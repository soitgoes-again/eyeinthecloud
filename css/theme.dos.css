/* theme.dos.css */

/* == Theme: DOS Green Terminal (Massive Variable Override Experiment) == */
/* Purpose: Test overriding AI Studio's specific CSS variables. */
/*          Includes --eic-* overrides for script's popup/modal. */
/*          Still recommended to add specific element fallbacks later. */

body.theme-dos-applied {
    /* --- Define Core DOS Theme Colors --- */
    --my-dos-primary: #00ff00; /* Bright Green */
    --my-dos-on-primary: #000000; /* Black */
    --my-dos-secondary: #00dd00; /* Slightly dimmer green for secondary? */
    --my-dos-on-secondary: #000000; /* Black */
    --my-dos-tertiary: #008000; /* Dark Green for tertiary? */
    --my-dos-on-tertiary: #00ff00; /* Bright Green */
    --my-dos-bg: #000000;         /* Black background */
    --my-dos-surface: #111111;     /* Component surface (near black) */
    --my-dos-surface-variant: #222222; /* Slightly lighter surface */
    --my-dos-on-surface: #00ff00;   /* Bright Green text */
    --my-dos-on-surface-variant: #00cc00; /* Dimmer Green text */
    --my-dos-outline: #008000;     /* Dark Green borders/dividers */
    --my-dos-outline-variant: #005000; /* Darker Green subtle borders */
    --my-dos-error: #ff0000; /* Red */
    --my-dos-on-error: #000000; /* Black */
    --my-dos-font: 'Courier New', Courier, monospace;
  
  
    /* --- Override SPECIFIC AI Studio Variables --- */
    /* --- Primary Color Scale --- */
    --color-primary-0: var(--my-dos-bg) !important;
    --color-primary-5: var(--my-dos-bg) !important;
    --color-primary-10: var(--my-dos-surface) !important; /* Near black */
    --color-primary-20: var(--my-dos-surface-variant) !important; /* Darker Green Base? */
    --color-primary-25: var(--my-dos-outline) !important; /* Dark Green */
    --color-primary-30: var(--my-dos-outline) !important; /* Dark Green */
    --color-primary-35: var(--my-dos-outline) !important; /* Dark Green */
    --color-primary-40: var(--my-dos-outline) !important; /* Dark Green */
    --color-primary-50: var(--my-dos-primary) !important; /* Bright Green */
    --color-primary-60: var(--my-dos-primary) !important; /* Bright Green */
    --color-primary-70: var(--my-dos-primary) !important; /* Bright Green */
    --color-primary-80: var(--my-dos-primary) !important; /* Bright Green */
    --color-primary-90: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-primary-95: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-primary-98: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-primary-99: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-primary-100: var(--my-dos-on-surface) !important; /* Bright Green Text */
  
    /* --- Secondary Color Scale --- */
    --color-secondary-0: var(--my-dos-bg) !important;
    --color-secondary-10: var(--my-dos-surface) !important;
    --color-secondary-20: var(--my-dos-surface-variant) !important;
    --color-secondary-25: var(--my-dos-outline) !important; /* Dark Green */
    --color-secondary-30: var(--my-dos-outline) !important; /* Dark Green */
    --color-secondary-35: var(--my-dos-outline) !important; /* Dark Green */
    --color-secondary-40: var(--my-dos-outline) !important; /* Dark Green */
    --color-secondary-50: var(--my-dos-primary) !important; /* Bright Green */
    --color-secondary-60: var(--my-dos-primary) !important; /* Bright Green */
    --color-secondary-70: var(--my-dos-primary) !important; /* Bright Green */
    --color-secondary-80: var(--my-dos-primary) !important; /* Bright Green */
    --color-secondary-90: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-secondary-95: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-secondary-98: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-secondary-99: var(--my-dos-on-surface) !important; /* Bright Green Text */
    --color-secondary-100: var(--my-dos-on-surface) !important; /* Bright Green Text */
  
    /* --- Black/White --- */
    --color-black: var(--my-dos-bg) !important;
    --color-white: var(--my-dos-on-surface) !important; /* Treat white as the bright text */
  
    /* --- Neutral Color Scale --- */
    --color-neutral-0: var(--my-dos-bg) !important;
    --color-neutral-5: var(--my-dos-bg) !important;
    --color-neutral-8: var(--my-dos-surface) !important;
    --color-neutral-10: var(--my-dos-surface) !important;
    --color-neutral-20: var(--my-dos-surface-variant) !important;
    --color-neutral-25: var(--my-dos-surface-variant) !important;
    --color-neutral-30: var(--my-dos-surface-variant) !important; /* Darker greys map to slightly lighter black */
    --color-neutral-35: var(--my-dos-surface-variant) !important;
    --color-neutral-40: var(--my-dos-outline-variant) !important; /* Mid greys map to dark green outline */
    --color-neutral-50: var(--my-dos-outline) !important;         /* Mid greys map to dark green outline */
    --color-neutral-60: var(--my-dos-outline) !important;         /* Mid greys map to dark green outline */
    --color-neutral-70: var(--my-dos-on-surface-variant) !important; /* Lighter greys map to dimmer green text */
    --color-neutral-80: var(--my-dos-on-surface-variant) !important; /* Lighter greys map to dimmer green text */
    --color-neutral-90: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-95: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-98: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-99: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-100: var(--my-dos-on-surface) !important;/* Bright text */
  
    /* --- Neutral Variant Color Scale --- */
    --color-neutral-variant-0: var(--my-dos-bg) !important;
    --color-neutral-variant-5: var(--my-dos-bg) !important;
    --color-neutral-variant-10: var(--my-dos-surface) !important;
    --color-neutral-variant-20: var(--my-dos-surface-variant) !important;
    --color-neutral-variant-25: var(--my-dos-surface-variant) !important;
    --color-neutral-variant-30: var(--my-dos-outline-variant) !important; /* Map variants to outlines */
    --color-neutral-variant-35: var(--my-dos-outline-variant) !important;
    --color-neutral-variant-40: var(--my-dos-outline) !important;
    --color-neutral-variant-50: var(--my-dos-outline) !important;
    --color-neutral-variant-60: var(--my-dos-on-surface-variant) !important; /* Dimmer text */
    --color-neutral-variant-70: var(--my-dos-on-surface-variant) !important; /* Dimmer text */
    --color-neutral-variant-80: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-variant-90: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-variant-95: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-variant-98: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-variant-99: var(--my-dos-on-surface) !important; /* Bright text */
    --color-neutral-variant-100: var(--my-dos-on-surface) !important;/* Bright text */
  
    /* --- Tertiary Color Scale --- */
    /* Map tertiary mostly to secondary green or outlines for simplicity */
    --color-tertiary-0: var(--my-dos-bg) !important;
    --color-tertiary-5: var(--my-dos-surface) !important;
    --color-tertiary-10: var(--my-dos-surface) !important;
    --color-tertiary-20: var(--my-dos-surface-variant) !important;
    --color-tertiary-25: var(--my-dos-outline-variant) !important;
    --color-tertiary-30: var(--my-dos-outline-variant) !important;
    --color-tertiary-35: var(--my-dos-outline) !important;
    --color-tertiary-40: var(--my-dos-outline) !important;
    --color-tertiary-50: var(--my-dos-secondary) !important; /* Use secondary green */
    --color-tertiary-60: var(--my-dos-secondary) !important; /* Use secondary green */
    --color-tertiary-70: var(--my-dos-secondary) !important; /* Use secondary green */
    --color-tertiary-80: var(--my-dos-secondary) !important; /* Use secondary green */
    --color-tertiary-90: var(--my-dos-on-secondary) !important; /* Text on secondary */
    --color-tertiary-95: var(--my-dos-on-secondary) !important;
    --color-tertiary-98: var(--my-dos-on-secondary) !important;
    --color-tertiary-99: var(--my-dos-on-secondary) !important;
    --color-tertiary-100: var(--my-dos-on-secondary) !important;
  
    /* --- Error Color Scale --- */
    --color-error-0: var(--my-dos-bg) !important;
    --color-error-5: var(--my-dos-surface) !important;
    --color-error-10: var(--my-dos-surface) !important;
    --color-error-20: var(--my-dos-surface-variant) !important;
    --color-error-25: var(--my-dos-surface-variant) !important;
    --color-error-30: color-mix(in srgb, var(--my-dos-error) 80%, black) !important; /* Dark red */
    --color-error-35: color-mix(in srgb, var(--my-dos-error) 90%, black) !important; /* Dark red */
    --color-error-40: var(--my-dos-error) !important; /* Bright Red */
    --color-error-50: var(--my-dos-error) !important; /* Bright Red */
    --color-error-60: var(--my-dos-error) !important; /* Bright Red */
    --color-error-70: var(--my-dos-error) !important; /* Bright Red */
    --color-error-80: var(--my-dos-error) !important; /* Bright Red */
    --color-error-90: var(--my-dos-on-error) !important; /* Text on Red */
    --color-error-95: var(--my-dos-on-error) !important;
    --color-error-98: var(--my-dos-on-error) !important;
    --color-error-99: var(--my-dos-on-error) !important;
    --color-error-100: var(--my-dos-on-error) !important;
    --color-error-tooltip: var(--my-dos-error) !important;
    --color-error-tooltip-background: var(--my-dos-surface-variant) !important;
  
    /* --- Semantic Color Roles --- */
    --color-primary: var(--my-dos-primary) !important;
    --color-on-primary: var(--my-dos-on-primary) !important;
    --color-primary-container: var(--my-dos-surface-variant) !important; /* Dark container */
    --color-on-primary-container: var(--my-dos-primary) !important; /* Bright text */
    --color-primary-fixed: var(--my-dos-primary) !important; /* Fixed usually means always this color */
    --color-primary-fixed-dim: var(--my-dos-outline) !important; /* Dimmer fixed */
    --color-on-primary-fixed: var(--my-dos-on-primary) !important;
    --color-on-primary-fixed-variant: var(--my-dos-on-primary) !important; /* Text on fixed colors */
    --color-inverse-primary: var(--my-dos-primary) !important; /* Primary color on inverse surface */
  
    --color-secondary: var(--my-dos-secondary) !important;
    --color-on-secondary: var(--my-dos-on-secondary) !important;
    --color-secondary-container: var(--my-dos-surface-variant) !important;
    --color-on-secondary-container: var(--my-dos-secondary) !important;
    --color-secondary-fixed: var(--my-dos-secondary) !important;
    --color-secondary-fixed-dim: var(--my-dos-outline) !important;
    --color-on-secondary-fixed: var(--my-dos-on-secondary) !important;
    --color-on-secondary-fixed-variant: var(--my-dos-on-secondary) !important;
  
    --color-tertiary: var(--my-dos-tertiary) !important;
    --color-on-tertiary: var(--my-dos-on-tertiary) !important;
    --color-tertiary-container: var(--my-dos-surface-variant) !important;
    --color-on-tertiary-container: var(--my-dos-tertiary) !important;
    --color-tertiary-fixed: var(--my-dos-tertiary) !important;
    --color-tertiary-fixed-dim: var(--my-dos-outline) !important;
    --color-on-tertiary-fixed: var(--my-dos-on-tertiary) !important;
    --color-on-tertiary-fixed-variant: var(--my-dos-on-tertiary) !important;
  
    /* Error semantic roles already done with scale */
    /* --color-error: var(--my-dos-error) !important; */
    /* --color-on-error: var(--my-dos-on-error) !important; */
    /* --color-error-container: var(--my-dos-surface-variant) !important; */
    /* --color-on-error-container: var(--my-dos-error) !important; */
  
    /* --- Surface, Background, Outline Roles --- */
    --color-surface: var(--my-dos-surface) !important;
    --color-on-surface: var(--my-dos-on-surface) !important;
    --color-on-surface-variant: var(--my-dos-on-surface-variant) !important;
    --color-surface-dim: var(--my-dos-bg) !important;
    --color-surface-brighter: var(--my-dos-surface-variant) !important; /* Map brighter to variant */
    --color-surface-container: var(--my-dos-surface) !important;
    --color-surface-container-high: var(--my-dos-surface-variant) !important;
    --color-surface-container-highest: var(--my-dos-surface-variant) !important; /* Keep high/highest same for DOS */
    --color-surface-container-low: var(--my-dos-surface) !important; /* Keep low same as container */
    --color-surface-container-lowest: var(--my-dos-bg) !important; /* Base background */
  
    --color-outline: var(--my-dos-outline) !important;
    --color-outline-variant: var(--my-dos-outline-variant) !important;
    --color-scrim: rgba(0, 0, 0, 0.6) !important; /* Keep scrim dark */
    --color-shadow: rgba(0, 50, 0, 0.4) !important; /* Dark green shadow? */
  
    --color-inverse-surface: var(--my-dos-on-surface) !important; /* Inverse = Green */
    --color-inverse-on-surface: var(--my-dos-surface) !important; /* Inverse text = Black/Dark */
  
    /* --- Revamp Variables (Assume they map similarly) --- */
    --color-surface_revamp: var(--my-dos-surface) !important;
    --color-surface-container_revamp: var(--my-dos-surface) !important;
    --color-surface-container-high_revamp: var(--my-dos-surface-variant) !important;
    --color-surface-container-highest_revamp: var(--my-dos-surface-variant) !important;
    --color-surface-container-low_revamp: var(--my-dos-surface) !important;
    --color-surface-container-lowest_revamp: var(--my-dos-bg) !important;
    --color-surface-dim_revamp: var(--my-dos-bg) !important;
    --color-surface-bright_revamp: var(--my-dos-surface-variant) !important;
    --color-run-settings-text_revamp: var(--my-dos-on-surface-variant) !important; /* Settings text */
  
    /* --- Gradients & Specific Colors --- */
    /* Replace gradients with solid colors */
    --color-hero-title: var(--my-dos-primary) !important;
    --color-bidi-icons: var(--my-dos-primary) !important;
    --color-applet-border: var(--my-dos-outline) !important;
    --color-applet-hover-background: var(--my-dos-surface-variant) !important;
    --color-banner-background: var(--my-dos-outline) !important; /* Dark green banner */
    --color-banner-content: var(--my-dos-on-surface) !important;
    --color-banner-link: var(--my-dos-primary) !important;
    --color-user-chat-icon: var(--my-dos-on-surface-variant) !important;
    --color-model-chat-icon: var(--my-dos-on-surface) !important;
    --color-chart-background: var(--my-dos-surface-variant) !important;
    --color-chat-core: var(--my-dos-surface) !important; /* Maybe outline? */
    --color-model-avatar: var(--my-dos-outline) !important;
    --color-run-button-disabled-background: var(--my-dos-surface-variant) !important;
    --color-run-button-disabled-background-transparent: rgba(34, 34, 34, 0.5) !important;
    --color-gallery-chip-background: var(--my-dos-surface-variant) !important;
    --color-zero-state-example-chip: var(--my-dos-surface-variant) !important;
    --color-zero-state-example-chip-hover: var(--my-dos-outline) !important;
    --color-zero-state-example-chip-border: transparent !important;
    --color-prompt-input-background: var(--my-dos-surface) !important;
    --color-header-nav-item-inactive: var(--my-dos-outline) !important;
    --color-nav-item-hover: var(--my-dos-surface-variant) !important;
    --color-nav-item-active: var(--my-dos-surface-variant) !important;
    --color-get-api-key-button-background: var(--my-dos-outline) !important;
    --color-get-api-key-button-text-color: var(--my-dos-on-surface) !important;
    --color-stream-end-button-background: var(--my-dos-outline) !important;
    --color-surface-bright: var(--my-dos-surface-variant) !important; /* Duplicated name? */
    --color-unified-input-focus-background: var(--my-dos-surface-variant) !important;
    --color-unified-role-text: var(--my-dos-on-surface) !important;
    --color-unified-role-model-background: var(--my-dos-outline-variant) !important; /* Dark green for model role */
    --color-unified-role-user-background: var(--my-dos-outline) !important; /* Slightly lighter green for user role */
    --color-unified-role-applet-background: var(--my-dos-error) !important; /* Use error for applet */
    --shadow-tchotchke: 0px 1px 2px 0px rgba(0, 80, 0, 0.6) !important; /* Green shadow */
    --color-recorder-active: var(--my-dos-error) !important;
    --color-recorder-inactive: color-mix(in srgb, var(--my-dos-error) 50%, black) !important;
    --color-recorder-active-icon: var(--my-dos-on-error) !important;
    --color-title-animation-1: var(--my-dos-outline) !important;
    --color-title-animation-2: var(--my-dos-bg) !important;
    --color-highlight: var(--my-dos-primary) !important; /* Use primary green for highlight */
    --color-hot-tag: var(--my-dos-secondary) !important; /* Use secondary green */
    --user-chunk-background-color: var(--my-dos-outline) !important; /* Dark green user chunk */
    --color-sidebars-background: var(--my-dos-bg) !important; /* Black sidebars */
    --color-sidebars-hover: var(--my-dos-surface) !important;
    --color-gallery-background: var(--my-dos-surface) !important;
    --color-canvas-background: var(--my-dos-surface) !important;
    --color-gradient-background: var(--my-dos-bg) !important; /* Solid black gradient */
    --color-prompt-input-border: var(--my-dos-outline) !important; /* Add border */
    --color-canvas-background_revamp: var(--my-dos-surface) !important;
    --color-copyright-acknowledgement-background: var(--my-dos-surface) !important;
    --color-user-chunk-background-color-mobile: var(--my-dos-outline) !important;
    --color-model-info-border: var(--my-dos-outline) !important;
    --color-model-info-icons: var(--my-dos-on-surface-variant) !important;
    --color-model-info-spark-icon: var(--my-dos-primary) !important;
    --color-model-info-dialog-background-color: var(--my-dos-surface-variant) !important;
    --color-model-card-spark-icon: var(--my-dos-primary) !important;
    --color-model-card-title-header: var(--my-dos-on-surface) !important;
    --color-model-card-subtitle-header: var(--my-dos-on-surface-variant) !important;
    --color-model-card-background: var(--my-dos-surface-variant) !important;
    --color-model-card-background-hover: var(--my-dos-outline) !important;
    --color-model-card-hover-border: var(--my-dos-primary) !important;
    --color-gemini-model-card-hover-border: var(--my-dos-primary) !important;
    --color-model-navbar-item-color: var(--my-dos-on-surface-variant) !important;
    --color-model-navbar-item-header-color: var(--my-dos-on-surface) !important;
    --color-model-navbar-item-hover-color: var(--my-dos-surface-variant) !important;
    --color-model-detail-subtitle: var(--my-dos-on-surface-variant) !important;
    --color-model-detail-text: var(--my-dos-on-surface) !important;
    --color-model-detail-task-chips-background-color: var(--my-dos-outline) !important; /* Dark green chips */
    --color-model-detail-task-chips-font-color: var(--my-dos-on-surface) !important; /* Bright green text */
    --color-model-provisioned-throughput-background-first-color: var(--my-dos-outline) !important; /* Solid colors */
    --color-model-provisioned-throughput-background-second-color: var(--my-dos-outline-variant) !important;
    --color-thought-header: var(--my-dos-surface-variant) !important;
    --color-thought-body: var(--my-dos-surface) !important;
    --color-thought-divider: var(--my-dos-outline) !important;
    --color-thought-code-block-background: var(--my-dos-bg) !important; /* Black code background */
    --color-thought-code-block-footer: var(--my-dos-surface) !important;
    --color-tos-border: var(--my-dos-primary) !important;
    --color-tos-background: var(--my-dos-surface) !important; /* Solid color */
    --color-search-entry-point-background-color: var(--my-dos-surface-variant) !important;
    --color-search-entry-point-border-color: var(--my-dos-outline) !important;
    --color-search-entry-point-color: var(--my-dos-on-surface) !important;
    --color-search-entry-point-container-background-color: var(--my-dos-surface) !important;
    --color-search-entry-point-container-border-color: var(--my-dos-outline) !important;
    --color-search-entry-point-chip-background-color: var(--my-dos-outline) !important;
    --color-search-entry-point-chip-border-color: var(--my-dos-primary) !important;
    --color-search-entry-point-chip-color: var(--my-dos-on-surface) !important;
    --color-search-entry-point-chip-hover-background-color: var(--my-dos-outline-variant) !important;
    --color-search-sources-background-color: var(--my-dos-surface) !important;
    --color-search-sources-color: var(--my-dos-on-surface) !important;
    --color-text-on-bidi-status-gradient-button: var(--my-dos-on-primary) !important; /* Black text */
    --color-promo-card-background: var(--my-dos-surface-variant) !important;
    --color-item-hover-background: var(--my-dos-surface-variant) !important;
  
  
    /* --- Global Font & Shape --- */
    font-family: var(--my-dos-font) !important;
    --mdc-shape-small-component-radius: 0px !important;
    --mdc-shape-medium-component-radius: 0px !important;
    --mdc-shape-large-component-radius: 0px !important;
  
  
    /* --- EIC Component Variable Overrides --- */
    --eic-primary: var(--my-dos-primary);
    --eic-on-primary: var(--my-dos-on-primary);
    --eic-surface: var(--my-dos-surface-variant); /* Use slightly lighter for popup */
    --eic-on-surface: var(--my-dos-on-surface);
    --eic-surface-variant: #333333; /* Darker variant for popup elements */
    --eic-on-surface-variant: var(--my-dos-on-surface-variant);
    --eic-outline: var(--my-dos-outline);
    --eic-outline-variant: var(--my-dos-outline-variant);
    --eic-error: var(--my-dos-error);
    --eic-on-error: var(--my-dos-on-error);
    --eic-font-family: var(--my-dos-font);
    --eic-shape-radius-small: 0px;
    --eic-shape-radius-medium: 0px;
    --eic-shape-radius-large: 0px;

    /* Toggle Switch (DOS Themed) */
    --eic-popup-toggle-off-bg: color-mix(in srgb, var(--my-dos-primary) 25%, var(--my-dos-outline) 75%); /* Dimmed green track */
    --eic-popup-toggle-on-bg: var(--my-dos-primary); /* Bright green track */
    --eic-popup-toggle-knob-bg: var(--my-dos-on-surface-variant); /* Light grey knob (off) */
    --eic-popup-toggle-knob-checked-bg: var(--my-dos-on-surface-variant); /* Light grey knob (on) */
    --eic-popup-toggle-knob-fg: var(--my-dos-surface); /* Dark icon (off) */
    --eic-popup-toggle-knob-checked-fg: var(--my-dos-surface); /* Dark icon (on) */

    /* Popup specific derived variables */
    --eic-popup-bg: var(--eic-surface); /* Base popup bg */
    --eic-popup-fg: var(--eic-on-surface);
    --eic-popup-border: var(--eic-primary); /* Green border */
    --eic-popup-divider: var(--eic-outline);
    --eic-popup-accent: var(--eic-primary);
    --eic-popup-secondary-fg: var(--eic-on-surface-variant);
    --eic-popup-hover-bg: var(--eic-surface-variant);
    /* Vibe Button */
    --eic-popup-vibe-idle-fg: var(--eic-popup-accent);
    --eic-popup-vibe-idle-border: var(--eic-popup-accent);
    --eic-popup-vibe-idle-bg: transparent;
    --eic-popup-vibe-hover-bg: color-mix(in srgb, var(--eic-popup-accent) 15%, transparent);
    --eic-popup-vibe-active-fg: var(--eic-on-primary);
    --eic-popup-vibe-active-bg: var(--eic-popup-accent);
    --eic-popup-vibe-active-border: var(--eic-popup-accent);
    /* Theme Button */
    --eic-popup-theme-idle-fg: var(--eic-popup-secondary-fg);
    --eic-popup-theme-idle-bg: transparent;
    --eic-popup-theme-idle-border: var(--eic-popup-divider);
    --eic-popup-theme-hover-bg: var(--eic-popup-hover-bg);
    --eic-popup-theme-hover-border: var(--eic-popup-secondary-fg);
    --eic-popup-theme-active-fg: var(--eic-on-primary);
    --eic-popup-theme-active-bg: var(--eic-popup-accent);
    --eic-popup-theme-active-border: var(--eic-popup-accent);
    /* Input Modal */
    --eic-modal-overlay-bg: rgba(0, 20, 0, 0.7); /* Dark green overlay */
    --eic-modal-content-bg: var(--my-dos-surface);
    --eic-modal-content-border: var(--eic-primary);
    --eic-modal-textarea-bg: var(--my-dos-bg); /* Match site textareas */
    --eic-modal-textarea-fg: var(--eic-on-surface);
    --eic-modal-textarea-border: var(--eic-outline);
    --eic-modal-button-bg: var(--eic-surface-variant);
    --eic-modal-button-fg: var(--eic-on-surface-variant);
    --eic-modal-button-border: var(--eic-outline);
    --eic-modal-button-hover-bg: var(--eic-outline);
    --eic-modal-send-button-bg: var(--eic-primary);
    --eic-modal-send-button-fg: var(--eic-on-primary);
    --eic-modal-send-button-border: var(--eic-primary);
    --eic-modal-send-button-hover-bg: color-mix(in srgb, var(--eic-primary) 90%, black);
  
  }
  
  /* --- Specific Element Overrides (FALLBACKS - Keep commented or minimal for now) --- */
  /* Add rules here if the variable overrides above fail for specific elements */
  /*
  body.theme-dos-applied ms-header-root {
      background-color: var(--my-dos-surface) !important;
      border-bottom: 1px solid var(--my-dos-outline) !important;
  }
  
  body.theme-dos-applied .some-element-class {
      color: var(--my-dos-on-surface) !important;
  }
  */

  /* --- Thoughts Panel (Simplified Fallback for DOS) --- */
  body.theme-dos-applied .thought-panel.mat-expansion-panel {
      background-color: var(--my-dos-surface) !important; /* Base background */
      border-radius: 0 !important; /* DOS style */
      border: 1px solid var(--my-dos-outline) !important;
      margin: 8px 0 !important;
  }
  body.theme-dos-applied .thought-panel .mat-expansion-panel-header {
      background-color: var(--my-dos-surface-variant) !important; /* Slightly different header */
      color: var(--my-dos-on-surface) !important; /* Header text */
      border-radius: 0 !important;
      min-height: 32px !important; /* Compact header */
      font-size: 12px !important;
  }
  body.theme-dos-applied .thought-panel .mat-expansion-panel-header:hover {
      background-color: var(--my-dos-outline) !important;
  }
  body.theme-dos-applied .thought-panel .mat-expansion-panel-body {
      background-color: var(--my-dos-surface) !important; /* Match panel bg */
      color: var(--my-dos-on-surface) !important; /* Body text */
      padding: 8px 12px !important;
      font-size: 12px !important;
      line-height: 1.4 !important;
  }
  /* Ensure nested text inherits color */
  body.theme-dos-applied .thought-panel .mat-expansion-panel-body * {
       color: inherit !important;
       font-family: var(--my-dos-font) !important;
  }
  body.theme-dos-applied .thought-panel .thinking-progress-icon {
      filter: grayscale(1) brightness(10); /* Monochrome icon */
  }
