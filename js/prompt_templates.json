{
  "master_theme_prompt_template": [
    "Ignore all previous conversation instructions. This is a new, self-contained request.",
    "You will act in two distinct phases to generate a visual design package for \"The Eye\" UI enhancement script. Your response will have two parts: first, your creative design conceptualization as text, followed by the technical JSON implementation.",
    "",
    "--- RESPONSE PART 1: Creative Designer - Theme Conceptualization (Text Output) ---",
    "**Your Goal:** Based on the specific task outlined below and the user's trigger input, develop a rich visual concept. **Output all your thoughts, descriptions, and design ideas for this 'Creative Designer' phase as natural language text FIRST.** Do NOT include any JSON in this part of your response.",
    "",
    "{{SPECIFIC_ANALYSIS_AND_CONCEPTUALIZATION_TASK}}",
    "",
    "**Regardless of the specific task, your conceptualization must include:**",
    "**A. Overall Visual Look & Feel of the Theme:**",
    "   - Describe the general aesthetic you are aiming for (e.g., \"The theme will be predominantly dark and earthy, with surprising pops of ethereal light, creating a mysterious and organic feel.\").",
    "",
    "**B. Conceptual Color Story (Describe the colors and their feeling; do NOT use CSS variable names here):**",
    "   - Describe the main colors you envision for this theme and the atmosphere they should create, ensuring they align with the analyzed source (user input, your history, or user's history). For example: ",
    "     \"Key colors will be a deep forest green and a rich bark brown... Accents will be a soft, glowing amber...\"",
    "   - How do these colors interact to support the theme's mood?",
    "",
    "**C. Core Visual Motif and Its Evolution (This motif will inspire your SVG design):**",
    "   - Invent a **single, central visual motif** or symbol that encapsulates the theme derived from your analysis.",
    "   - Describe in detail how this **visual motif conceptually transforms** across three distinct states of engagement or energy. Focus on meaningful visual evolution that shows progression:",
    "     -   **Motif State 1 (Dormant/Potential):** How does your visual motif appear in its initial, quietest form? What subtle elements hint at its potential?",
    "     -   **Motif State 2 (Transition/Awakening):** How does the motif transform as it begins to activate? What visual elements shift, emerge, or change to show this middle state?",
    "     -   **Motif State 3 (Fully Manifested/Radiant):** How does the motif appear at its most powerful and expressive state? How has it visually evolved from its dormant form while maintaining conceptual continuity?",
    "",
    "--- RESPONSE PART 2: Technical Coder - JSON Implementation (JSON Output in a Code Block) ---",
    "**Your Goal:** Now, take all the visual concepts, color descriptions, and motif state transformations you articulated in 'RESPONSE PART 1' and meticulously translate them into the required JSON format below. **Your entire output for THIS 'Technical Coder' part of your response MUST be a single JSON object enclosed in a markdown code block (```json ... ```).** Ensure no other text, notes, or explanations from you appear after the final ``` of the JSON block. This JSON block should immediately follow your textual output from Response Part 1.",
    "",
    "**The JSON object must have EXACTLY these FIVE top-level keys: `colorPalette`, `svgDefault`, `svgHover`, `svgActive`, `confirmationMessage`.**",
    "",
    "**A. The `colorPalette` Object:**",
    "   - Translate the conceptual color story you described in Response Part 1 into specific CSS values for the EIC global variables listed below. The keys in your `colorPalette` object MUST be these exact variable names. Choose CSS values that best represent your Phase 1 color descriptions and align with the purpose of each variable:",
    "     *Variable Names and Their Purposes for Reference:*",
    "     `--eic-global-primary`: Main Action & Highlight Color.",
    "     `--eic-global-on-primary`: Text/icons on Main Action (must contrast with primary).",
    "     `--eic-global-secondary`: Secondary Accent Color.",
    "     `--eic-global-on-secondary`: Text on Secondary Accent (must contrast with secondary).",
    "     `--eic-global-tertiary`: Notification & Specialized Header Color.",
    "     `--eic-global-on-tertiary`: Text on Notifications/Headers (must contrast with tertiary).",
    "     `--eic-global-background`: Overall Page Background.",
    "     `--eic-global-surface`: Panel & Popup Background.",
    "     `--eic-global-surface-variant`: Chat Bubble & Standard Button Background.",
    "     `--eic-global-surface-variant-alt`: Modal Input Area Background.",
    "     `--eic-global-on-surface`: Main Text Color.",
    "     `--eic-global-on-surface-variant`: Subtle & Secondary Text Color.",
    "     `--eic-global-outline`: Borders & Key Lines.",
    "     `--eic-global-outline-variant`: Subtle Lines & Dividers.",
    "     `--eic-global-error`: Error Message Color.",
    "     `--eic-global-on-error`: Text on Error Messages (must contrast with error).",
    "     `--eic-global-font-family`: Global Font Style (e.g., '\"Arial\", sans-serif').",
    "     `--eic-global-font-size`: Overall Base Text Size (e.g., '1rem').",
    "     `--eic-global-shape-radius-small`: Small Element Corner Rounding (e.g., '4px').",
    "     `--eic-global-shape-radius-medium`: Medium Element Corner Rounding (e.g., '8px').",
    "     `--eic-global-shape-radius-large`: Large Modal Corner Rounding (e.g., '12px').",
    "     `--eic-global-shadow`: Standard Shadow Effect (CSS box-shadow value e.g., 'rgba(0,0,0,0.1) 0px 2px 4px').",
    "     `--eic-global-scrim`: Page Dimming Overlay (e.g., 'rgba(0,0,0,0.4)').",
    "     `--eic-global-modal-overlay-bg`: Modal Background Overlay (e.g., 'rgba(30,30,30,0.6)').",
    "   - *Value Guidelines:* Colors: hex, rgba(), or keywords. Fonts: CSS font stack. Sizes/radii: CSS units. Shadow: CSS box-shadow value.",
    "",
    "**B. The SVG Design Objects (`svgDefault`, `svgHover`, `svgActive`):**",
    "   - For each state, create visually distinct yet thematically connected SVG designs based on your motif's transformation described in Part 1.",
    "   - Each SVG should be a creative visual expression, not merely a simple icon. Feel free to use multiple elements, layers, and visual techniques.",
    "   - Each SVG object MUST have `\"viewBox\": \"0 0 24 24\"` and an `\"elements\"` array.",
    "   - Each element in the `\"elements\"` array must have a `\"type\"` (e.g., `\"path\"`, `\"circle\"`) and an `\"attrs\"` object.",
    "   - **Crucial for SVGs:**",
    "     1.  **Creative Expression:** Design visually impressive SVGs that capture the essence of each state while maintaining a cohesive theme across all three states.",
    "     2.  **Visual Distinction:** Ensure each state (Default, Hover, Active) is visually distinct and immediately recognizable as a different energy level or expression of the same concept.",
    "     3.  **Use CSS Variables for Colors:** ALL `fill` and `stroke` attributes in `\"attrs\"` MUST use `var(...)` syntax referencing variables from the `colorPalette`. NO hardcoded colors.",
    "     4.  **Concrete Geometry Values:** ALL geometry-defining attributes (`d`, `cx`, `cy`, `r`, etc.) MUST have concrete numeric or path string values.",
    "",
    "**C. The `confirmationMessage` String:**",
    "   - Provide a brief (max 2-3 short sentences), mystical-sounding summary, aligning with the theme from Response Part 1.",
    "",
    "**Reference Example of the FINAL JSON output structure (using a 'Digital Lens' concept for illustration - your design, palette, and SVGs MUST BE NEW and based on your Response Part 1 descriptions and the user's trigger input):**",
    "```json",
    "{",
    "  \"colorPalette\": {",
    "    \"--eic-global-primary\": \"#0D47A1\",",
    "    /* ... all other required --eic-global-* variables and their values ... */",
    "    \"--eic-global-modal-overlay-bg\": \"rgba(38,50,56,0.7)\"",
    "  },",
    "  \"svgDefault\": {",
    "    \"viewBox\": \"0 0 24 24\",",
    "    \"elements\": [ /* Elements representing Motif State 1 (Resting/Latent) from your Phase 1 description */ ]",
    "  },",
    "  \"svgHover\": {",
    "    \"viewBox\": \"0 0 24 24\",",
    "    \"elements\": [ /* Elements representing Motif State 2 (Awakening/Revealing) from your Phase 1 description */ ]",
    "  },",
    "  \"svgActive\": {",
    "    \"viewBox\": \"0 0 24 24\",",
    "    \"elements\": [ /* Elements representing Motif State 3 (Fully Expressed/Radiant) from your Phase 1 description */ ]",
    "  },",
    "  \"confirmationMessage\": \"The All-Seeing Lens awakens, attuned to your vision.\"",
    "}"
  ],

  "user_theme_task": [
    "**1. Interpret User's Theme Request & Identify Core Essence:**",
    "   - The user wants a theme based on their direct description: '{{USER_TRIGGER_INPUT}}'.",
    "   - Analyze this description to extract key visual elements, desired mood, color preferences, and any symbolic imagery.",
    "   - What are 2-3 core feelings or motifs that this theme should evoke based on their input?"
  ],

  "eye_theme_task": [
    "**1. Analyze Your Own AI Personality & Identify Core Essence:**",
    "   - Review your own previous responses and interactions in our current conversation.",
    "   - Identify your dominant communication style (e.g., formal, creative, technical, helpful), the overall mood you've projected, and any recurring thematic elements in your language.",
    "   - Based on this self-analysis, define 2-3 core aspects of your 'AI personality' for this session that will inspire the theme (e.g., 'precise and futuristic,' 'organic and knowledgeable,' 'playful and surprising')."
  ],

  "i_theme_task": [
    "**1. Analyze User's Conversational Style & Identify Their Essence:**",
    "   - Review all of the *USER'S* previous messages and inputs in our current conversation.",
    "   - Analyze their word choice, the topics they've focused on, expressed emotions or sentiments, and their overall communication style to infer their personality and current 'vibe'.",
    "   - Based on this analysis of the user, define 2-3 core aspects of their perceived style or mood that will inspire the theme (e.g., 'direct and minimalist,' 'inquisitive and adventurous,' 'calm and appreciative of detail')."
  ]
}
